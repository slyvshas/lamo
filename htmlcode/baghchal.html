<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bagh Chal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Add this at the beginning of body -->
    <div id="game-setup-modal" class="modal">
        <div class="modal-content setup-modal">
            <h2>Welcome to Baghchal!</h2>
            <div class="setup-options">
                <div class="game-mode-selection">
                    <h3>Select Game Mode</h3>
                    <div class="mode-buttons">
                        <button class="mode-btn" onclick="selectGameMode('human')">
                            <span class="mode-icon">ğŸ‘¥</span>
                            Human vs Human
                        </button>
                        <button class="mode-btn" onclick="selectGameMode('bot')">
                            <span class="mode-icon">ğŸ¤–</span>
                            Human vs Bot
                        </button>
                    </div>
                </div>
                
                <div id="difficulty-selection" class="difficulty-selection" style="display: none;">
                    <h3>Select Difficulty</h3>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn" onclick="selectDifficulty('easy')">
                            <span class="difficulty-icon">ğŸŒ±</span>
                            Easy
                        </button>
                        <button class="difficulty-btn" onclick="selectDifficulty('medium')">
                            <span class="difficulty-icon">ğŸŒ¿</span>
                            Medium
                        </button>
                        <button class="difficulty-btn" onclick="selectDifficulty('hard')">
                            <span class="difficulty-icon">ğŸŒ³</span>
                            Hard
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Header Section -->
    <div id="header">
        <h1>Bagh Chal</h1>
        
        <!-- Game Controls -->
        <div id="game-controls">
            <button id="pause-btn" onclick="togglePause()">
                <span>â¸ï¸</span> Pause
            </button>
            <button id="undo-btn" onclick="undoMove()">
                <span>â†©ï¸</span> Undo
            </button>
        </div>

        <!-- Game Status -->
        <div id="game-status-container">
            <div id="turn-indicator">
                <span id="turn-icon">ğŸ</span>
                <span id="turn-text">Goat's Turn</span>
            </div>
            
            <div id="game-stats">
                <div class="timer-display">0:00</div>
                <div class="stats-container">
                    <div class="stat-item">
                        <span class="stat-label">Games:</span>
                        <span class="stat-value" id="games-played">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Best:</span>
                        <span class="stat-value" id="best-time">-</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add this inside the header section, after the game controls -->
    <div id="game-stats">
        <div id="timer" class="timer-display">0:00</div>
        <div class="stats-container">
            <div class="stat-item">
                <span class="stat-label">Games Played:</span>
                <span class="stat-value" id="games-played">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Best Time:</span>
                <span class="stat-value" id="best-time">-</span>
            </div>
        </div>
    </div>

    <!-- Add keyboard shortcuts help -->
    <div id="keyboard-shortcuts" class="shortcuts-tooltip">
        <div class="shortcuts-content">
            <h3>Keyboard Shortcuts</h3>
            <ul>
                <li><kbd>P</kbd> - Pause/Resume</li>
                <li><kbd>U</kbd> - Undo Move</li>
                <li><kbd>S</kbd> - Toggle Sound</li>
                <li><kbd>R</kbd> - Reset Game</li>
            </ul>
        </div>
    </div>

    <!-- Game Over Modal -->
<div id="game-over-modal" style="display: none;">
    <div class="modal-content">
        <h2 id="winner-message"></h2>
        <button onclick="resetGame()">Play Again</button>
    </div>
</div>

    <!-- Game Wrapper -->
    <div id="game-wrapper">
        <!-- Bot Controls (Above Board) -->
        <div id="game-controls-right">
            <div class="bot-controls">
                <button id="bot-mode-btn" onclick="toggleBotMode()">
                    <span>ğŸ¤–</span> Switch to Human vs Bot
                </button>
                <div id="difficulty-selector" style="display: none;">
                    <select id="difficulty-level" onchange="setDifficulty()">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Game Board Section -->
        <div id="board-section">
            <!-- Captured Goats (Left) -->
            <div id="captured-goats-left"></div>

            <!-- Game Board -->
            <div id="game-container">
                <div id="game-board"></div>
            </div>

            <!-- Game Rules Button -->
            <button id="game-rules-btn" onclick="showGameRules()">Game Rules</button>
        </div>
    </div>

<!-- Game Rules Modal (Popup) -->
<div id="game-rules-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeGameRules()">&times;</span>
        <h2>ğŸ“œ How to Play Bagh Chal</h2>
        
        <div class="rules-section">
            <h3>ğŸ¯ Objective</h3>
            <ul>
                <li><strong>Tigers ğŸ…:</strong> Capture 5 goats to win</li>
                <li><strong>Goats ğŸ:</strong> Trap all tigers so they can't move</li>
            </ul>
        </div>

        <div class="rules-section">
            <h3>ğŸ® Game Setup</h3>
            <ul>
                <li>4 Tigers start at corners</li>
                <li>20 Goats to be placed during play</li>
            </ul>
        </div>

        <div class="rules-section">
            <h3>âš¡ How to Play</h3>
            <h4>Phase 1: Placing Goats</h4>
            <ul>
                <li>Goat player places one goat per turn</li>
                <li>Tiger player can move or capture</li>
            </ul>

            <h4>Phase 2: Moving Pieces</h4>
            <ul>
                <li>Goats: Move to adjacent empty point</li>
                <li>Tigers: Move to adjacent point or jump over goats to capture</li>
            </ul>
        </div>

        <div class="rules-section">
            <h3>ğŸ’¡ Tips</h3>
            <ul>
                <li>Goats: Try to surround tigers</li>
                <li>Tigers: Work together to capture goats</li>
                <li>Watch out for trapped positions!</li>
            </ul>
        </div>
    </div>
</div>

    <!-- Audio for Sound Effects -->
    <audio id="move-sound" preload="auto">
        <source src="move.mp3" type="audio/mpeg">
    </audio>
    <audio id="tigermove-sound" preload="auto">
        <source src="tigermove.mp3" type="audio/mpeg">
    </audio>
    <audio id="capture-sound" preload="auto">
        <source src="capture.mp3" type="audio/mpeg">
    </audio>
    <audio id="win-sound" preload="auto">
        <source src="win.mp3" type="audio/mpeg">
    </audio>

    <!-- Game Status -->
    <div id="status" class="game-status">
        <div>Phase 1: Place Goats</div>
        <div>Moves: 0 | Goats Captured: 0</div>
        <div>ğŸ Goat's Turn</div>
    </div>

    <!-- Add this before the closing body tag -->
    <div id="game-tips" class="tips-container">
        <div class="tip-content">
            <h3>ğŸ’¡ Pro Tips</h3>
            <ul>
                <li>Use keyboard shortcuts for faster gameplay</li>
                <li>Watch the timer to improve your speed</li>
                <li>Try different difficulty levels against the bot</li>
                <li>Use the undo button to learn from mistakes</li>
            </ul>
        </div>
    </div>

    <!-- Add this to the game over modal -->
    <div class="game-stats-summary">
        <h3>Game Statistics</h3>
        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-label">Time</span>
                <span class="stat-value" id="game-time">-</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Best Time</span>
                <span class="stat-value" id="best-time">-</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Games Played</span>
                <span class="stat-value" id="total-games">0</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Win Rate</span>
                <span class="stat-value" id="win-rate">-</span>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
